// src/components/ContactForm/ContactForm.module.scss

@use 'styles/abstracts' as *;

.contact-form {
  // Mobile-first styles: full width, smaller padding
  width: 100%;
  padding: var(--spacing-xs);
  background-color: var(--color-surface-elevated);
  border-radius: var(--border-radius-md);
  box-shadow: var(--box-shadow-md);
  margin: 0 auto;
  transition: background-color var(--color-transition), box-shadow var(--color-transition);

  @media (min-width: 768px) {
    // Tablet and larger: add more padding, constrain max-width
    //padding: var(--spacing-lg) var(--spacing-md);
    padding-block: var(--spacing-xl);
    padding-inline: var(--spacing-lg);
    max-width: 600px;
  }
}

.contact-form__fieldset {
  border: none;
  padding: 0;
  margin: 0;
}

.contact-form__legend--sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.contact-form__group {
  margin-bottom: var(--spacing-md);
}

.contact-form__label {
  display: block;
  margin-bottom: var(--spacing-xs);
  font-family: var(--font-family-primary);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  transition: color var(--color-transition);

  // Increase font size slightly on mobile for better touch readability
  @media (max-width: 767px) {
    font-size: var(--font-size-lg);
  }
}

.contact-form__required-symbol {
  color: var(--color-brand-primary);
}

.contact-form__input,
.contact-form__textarea {
  width: 100%;
  padding: var(--spacing-sm);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--border-radius-sm);
  background-color: var(--color-surface-base);
  color: var(--color-text-primary);
  font-family: var(--font-family-primary);
  font-size: var(--font-size-base);
  box-sizing: border-box;

  /* Combined fast focus transition with slow theme toggle transition */
  transition:
    border-color 0.2s ease-in-out,
    box-shadow 0.2s ease-in-out,
    background-color var(--color-transition),
    color var(--color-transition);

  @media (max-width: 767px) {
    font-size: var(--font-size-lg);
  }

  &:focus {
    outline: none;
    border-color: var(--color-brand-primary);
    /* Use rgba with CSS variables for dynamic shadows */
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-brand-primary), transparent 75%);
  }
}

.contact-form__textarea {
  resize: vertical;
}

.contact-form__input--invalid,
.contact-form__textarea--invalid {
  /* Use a variable for error color (you'd need to define this in abstracts) */
  border-color: var(--color-error, #dc3545);
}

.contact-form__error-message {
  margin-top: var(--spacing-xs);
  font-size: var(--font-size-sm);
  /* Use a variable for error color */
  color: var(--color-error, #dc3545);
}

.contact-form__submit {
  display: block;
  /* Make the button a block-level element */
  margin: 0 auto;
  /* Center the button horizontally */
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-family-primary);
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-inverse);
  background-color: var(--color-brand-primary);
  border: none;
  border-radius: var(--border-radius-sm);
  cursor: pointer;

  /* Combined fast hover transition with slow theme toggle transition */
  transition:
    background-color 0.2s ease-in-out,
    background-color var(--color-transition), 
    color var(--color-transition);

  &:hover {
    background-color: var(--color-link-hover);
    transition: background-color var(--color-transition); //Smooth Transition on theme toggle

  }

  &:disabled {
    background-color: var(--color-text-secondary);
    transition: color var(--color-transition), background-color var(--color-transition); //Smooth Transition on theme toggle
    cursor: not-allowed;
  }
}

.contact-form__message-status {
  padding: var(--spacing-md);
  text-align: center;
  font-size: var(--font-size-lg);
  /* Use variables for success colors */
  color: var(--color-success-text, #28a745);
  background-color: var(--color-success-bg, #d4edda);
  border: 1px solid var(--color-success-border, #c3e6cb);
  border-radius: var(--border-radius-sm);

  /* Smooth transition for status message colors on theme toggle */
  transition: color var(--color-transition), background-color var(--color-transition), border-color var(--color-transition);
}